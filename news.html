<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>Torn Times</title>
  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link href="https://fonts.googleapis.com/css2?family=Julius+Sans+One&display=swap" rel="stylesheet">
  <link rel="icon" type="image/png" href="images/icon.png">

  <style>
    body { 
      font-family: "arial", sans-serif;
      padding: 20px 40px;
      background: #f5f5f5;
      display: flex;
      justify-content: flex-start;
    }

    #main-content {
      width: 400px; /* narrow column on the left */
    }

    .article {
      background: white;
      padding: 15px 20px;
      margin-bottom: 15px;
      border-radius: 5px;
      box-shadow: 0 2px 5px rgba(0,0,0,0.1);
      transition: transform 0.2s, box-shadow 0.2s;
    }

    .article:hover {
      transform: translateY(-2px);
      box-shadow: 0 4px 8px rgba(0,0,0,0.2);
    }

    .article h2 {
      margin: 0;
      font-size: 20px;
    }

    #times {
      font-family: "Julius Sans One", sans-serif;
      font-weight: 400;
      font-style: normal;
      margin-bottom: 10px;
    }

    h5 {
      font-family: "arial", sans-serif;
      color: #777;
      margin-top: -10px;
      margin-bottom: 30px;
    }

    a {
      text-decoration: none;
      color: inherit;
      display: block;
    }
  </style>
</head>

<body>
  <div id="main-content">
    <h1 id="times">Torn Times</h1>
    <h5>by Fucikos</h5>
    <div id="news-container"></div>
  </div>

  <footer>
    <div style="width:100%; text-align:center; position:fixed; left:0; bottom:0; background:#fff; box-shadow:0 -2px 8px rgba(0,0,0,0.08); padding:10px 0;">
      <a href="https://www.torn.com/profiles.php?XID=3859772" target="_blank" style="margin:0 15px; color:#333;">Torn Profile</a>
      |
      <a href="https://buymeacoffee.com/fucikos" id="coffee" target="_blank" rel="noopener" style="margin:0 15px; color:#333;">Buy me a coffee.</a>
    </div>
  </footer>

  <script>
    // List of articles and their URLs
    const articles = [
      { file: 'articles/article1.html', url: 'articles/article1.html' },
      { file: 'articles/article2.html', url: 'articles/article2.html' },
      { file: 'articles/article3.html', url: 'articles/article3.html' }
    ];

    const container = document.getElementById('news-container');

    articles.forEach(article => {
      fetch(article.file)
        .then(response => response.text())
        .then(data => {
          // Create a temporary element to parse the HTML
          const temp = document.createElement('div');
          temp.innerHTML = data;

          // Extract only the <h2> title from the snippet
          const title = temp.querySelector('h2')?.textContent || 'Untitled';
          const date = temp.querySelector('em')?.textContent || '';

          // Create a clickable preview box
          const preview = document.createElement('div');
          preview.className = 'article';
          preview.innerHTML = `<h2>${title}</h2><p><em>${date}</em></p>`;

          const link = document.createElement('a');
          link.href = article.url;
          link.appendChild(preview);

          container.appendChild(link);
        })
        .catch(err => console.error('Error loading article:', article.file, err));
    });
  </script>
</body>
</html>
